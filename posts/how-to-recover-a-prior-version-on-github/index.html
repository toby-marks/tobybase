<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Language" content="en">

    <meta name="author" content="Toby Marks">
    <meta name="description" content="Get the hash of the &ldquo;good&rdquo; version you want to recover You first need to identify where things went wrong. Then get the commit identifier (also called the hash) for the version immediately prior to that. (Also make sure you&rsquo;re pulling from the appropriate branch; for simplicity&rsquo;s sake, this example assumes all changes are being committed to the master branch.)
# git log commit 07c5f535743e3f70fcdf09c0d032580820ca38c9 Author: Toby Base &lt;xxxxx@gmail.com&gt; Date: Tue May 19 14:33:17 2020 -0500 Created content/post/my-newest-article.">
    <meta name="keywords" content="oracle,infolob,blog,consultant,developer,tuning,exadata,personal">

    <meta name="twitter:card" content="summary"/><meta name="twitter:title" content="How to Restore Files From a Previous Version in Git/Github"/>
<meta name="twitter:description" content="Get the hash of the &ldquo;good&rdquo; version you want to recover You first need to identify where things went wrong. Then get the commit identifier (also called the hash) for the version immediately prior to that. (Also make sure you&rsquo;re pulling from the appropriate branch; for simplicity&rsquo;s sake, this example assumes all changes are being committed to the master branch.)
# git log commit 07c5f535743e3f70fcdf09c0d032580820ca38c9 Author: Toby Base &lt;xxxxx@gmail.com&gt; Date: Tue May 19 14:33:17 2020 -0500 Created content/post/my-newest-article."/>

    <meta property="og:title" content="How to Restore Files From a Previous Version in Git/Github" />
<meta property="og:description" content="Get the hash of the &ldquo;good&rdquo; version you want to recover You first need to identify where things went wrong. Then get the commit identifier (also called the hash) for the version immediately prior to that. (Also make sure you&rsquo;re pulling from the appropriate branch; for simplicity&rsquo;s sake, this example assumes all changes are being committed to the master branch.)
# git log commit 07c5f535743e3f70fcdf09c0d032580820ca38c9 Author: Toby Base &lt;xxxxx@gmail.com&gt; Date: Tue May 19 14:33:17 2020 -0500 Created content/post/my-newest-article." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://tobybase.com/posts/how-to-recover-a-prior-version-on-github/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-05-19T17:09:28-05:00" />
<meta property="article:modified_time" content="2020-05-19T00:00:00+00:00" />




    
      <base href="https://tobybase.com/posts/how-to-recover-a-prior-version-on-github/">
    
    <title>
  How to Restore Files From a Previous Version in Git/Github ¬∑ üë®üèª‚Äçüíª Tobybase
</title>

    
      <link rel="canonical" href="https://tobybase.com/posts/how-to-recover-a-prior-version-on-github/">
    

    <link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.0/css/all.css" integrity="sha384-Bfad6CLCknfcloXFOyFnlgtENryhrpZCe29RTifKEixXQZ38WheV+i/6YWSzkz3V" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />

    
      
      
      <link rel="stylesheet" href="https://tobybase.com/css/coder.min.a4f332213a21ce8eb521670c614470c58923aaaf385e2a73982c31dd7642decb.css" integrity="sha256-pPMyITohzo61IWcMYURwxYkjqq84XipzmCwx3XZC3ss=" crossorigin="anonymous" media="screen" />
    

    

    

    
      <link rel="stylesheet" href="https://tobybase.com/css/custom.css" />
    

    

    <link rel="icon" type="image/png" href="https://tobybase.com/img/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://tobybase.com/img/favicon-16x16.png" sizes="16x16">

    <meta name="generator" content="Hugo 0.122.0">
  </head>

  
  
  <body class="colorscheme-light">
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="https://tobybase.com/">
      üë®üèª‚Äçüíª Tobybase
    </a>
    
    <input type="checkbox" id="menu-toggle" />
    <label class="menu-button float-right" for="menu-toggle"><i class="fas fa-bars"></i></label>
    <ul class="navigation-list">
      
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://tobybase.com/posts/">Blog</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://tobybase.com/links/">Links</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://tobybase.com/about/">About</a>
          </li>
        
      
      
    </ul>
    
  </section>
</nav>


      <div class="content">
        
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">How to Restore Files From a Previous Version in Git/Github</h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fas fa-calendar"></i>
              <time datetime='2020-05-19T17:09:28-05:00'>
                May 19, 2020
              </time>
            </span>
            <span class="reading-time">
              <i class="fas fa-clock"></i>
              3-minute read
            </span>
          </div>
          <div class="categories">
  <i class="fas fa-folder"></i>
    <a href="https://tobybase.com/categories/source-control/">source control</a></div>

          <div class="tags">
  <i class="fas fa-tag"></i>
    <a href="https://tobybase.com/tags/git/">git</a>
      <span class="separator">‚Ä¢</span>
    <a href="https://tobybase.com/tags/github/">GitHub</a>
      <span class="separator">‚Ä¢</span>
    <a href="https://tobybase.com/tags/tools/">tools</a></div>

        </div>
      </header>

      <div>
        
        <h3 id="get-the-hash-of-the-good-version-you-want-to-recover">Get the hash of the &ldquo;good&rdquo; version you want to recover</h3>
<p>You first need to identify where things went wrong. Then get the commit identifier (also called the hash) for the version immediately prior to that. (Also make sure you&rsquo;re pulling from the appropriate branch; for simplicity&rsquo;s sake, this example assumes all changes are being committed to the master branch.)</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span><span style="font-style:italic"># git log</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>commit 07c5f535743e3f70fcdf09c0d032580820ca38c9
</span></span><span style="display:flex;"><span>Author: Toby Base &lt;xxxxx<span style="">@</span>gmail.com&gt;
</span></span><span style="display:flex;"><span>Date:   Tue May 19 14:33:17 2020 -0500
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Created content/post/my-newest-article.md
</span></span><span style="display:flex;"><span>    (Oh no! Accidentally deleted some files after the last commit!)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>commit 85add47b28670abaf99b17e010edeafb2fbb3189
</span></span><span style="display:flex;"><span>Author: Toby Base &lt;xxxxx<span style="">@</span>gmail.com&gt;
</span></span><span style="display:flex;"><span>Date:   Fri Feb 7 21:04:39 2020 +0000
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Updated content/post/oracle-cloud-day-dallas.md
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>commit c3a520e136dc90e7982bc50d56a33aa3c3885f85
</span></span><span style="display:flex;"><span>Author: Toby Base &lt;xxxxx<span style="">@</span>gmail.com&gt;
</span></span><span style="display:flex;"><span>Date:   Fri Feb 7 21:02:29 2020 +0000
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Created <span style="font-weight:bold">static</span>/uploads/BC9419D3-B290-4CF3-845C-5C008A19419C.jpeg
</span></span></code></pre></div><p>In my case, I know I deleted files in the commit on May 19. So I want to restore those files from the version right before that, the one with hash <code>85add47b28670abaf99b17e010edeafb2fbb3189</code>.</p>
<h3 id="flash-back-to-the-state-of-the-repository-at-the-desired-commit">Flash back to the state of the repository at the desired commit</h3>
<p>Do this only if you don&rsquo;t care about eliminating commit history or losing changes since the specified commit.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># git reset --hard 85add47b28670abaf99b17e010edeafb2fbb3189
</span></span></code></pre></div><p>Other options for <code>git reset</code> include <code>--soft</code> and <code>--mixed</code>, which retain the changed files in your working directory, but treat the states of those files differently. A more thorough explanation of how <code>git reset</code> works <a href="https://www.atlassian.com/git/tutorials/undoing-changes/git-reset">can be found here</a>.</p>
<h3 id="recover-files-while-retaining-the-commit-history">Recover files while retaining the commit history</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># git checkout -b new_branch 85add47b28670abaf99b17e010edeafb2fbb3189
</span></span></code></pre></div><p>The checkout command will revert any unchanged files and restore any deleted files as of the specified commit. New and changed files since that time are retained. We fork a new branch in order to avoid the &ldquo;detached HEAD&rdquo; state, discussed in the <a href="https://www.atlassian.com/git/tutorials/undoing-changes/git-reset">above linked article</a>, that could lead to problems on future commits.</p>
<p>If you were working on the master branch and want to continue committing changes on that branch, simply commit your changes on the new branch, switch back to the master, and merge in your changes.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># git add -A
</span></span><span style="display:flex;"><span># git commit -m &#34;Restoring files from previous commit&#34;
</span></span><span style="display:flex;"><span># git checkout master
</span></span><span style="display:flex;"><span># git merge new_branch
</span></span></code></pre></div><p>Here <code>checkout master</code> switches us back to the master branch, and then we use <code>merge new_branch</code> to restore the lost files to the master.</p>
<h3 id="another-option-just-to-recover-the-files">Another option just to recover the files</h3>
<p>The simplest way to get your files back without dealing with the branching and merging is to checkout a prior version in a temporary directory, then copy the missing files from there back to your working directory. Then just add and commit those files back to source control.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># cd /tmp
</span></span><span style="display:flex;"><span># git clone https://github.com/toby-marks/tobybase.git
</span></span><span style="display:flex;"><span># cd tobybase
</span></span><span style="display:flex;"><span># git checkout 85add47b28670abaf99b17e010edeafb2fbb3189
</span></span><span style="display:flex;"><span># cp content/posts/*.md /path/to/tobybase/working/directory/content/posts/
</span></span><span style="display:flex;"><span># cd /path/to/tobybase/working/directory
</span></span><span style="display:flex;"><span># git add -A
</span></span><span style="display:flex;"><span># git commit -m &#34;Restoring files lost after 85add47b28670abaf99b17e010edeafb2fbb3189&#34;
</span></span></code></pre></div>
      </div>


      <footer>
        


        <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "tobybase-com" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        
        
      </footer>
    </article>

    
  </section>

      </div>

      
  <footer class="footer">
    <section class="container">
      
        <p>Oracle Database Developer and Performance Tuner, specialized on the Exadata platform. Working for Infolob from Irving, Texas.</p>
      
      
        ¬©
        
          2012 -
        
        2024
         Toby Marks 
      
      
      
    </section>
  </footer>

    </main>

    

    

    

  </body>

</html>
